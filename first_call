import openai
import os
from dotenv import load_dotenv

# Load variables from .env file
load_dotenv()

# Fetch the API key from environment
openai.api_key = os.getenv("OPENAI_API_KEY")

# Define a fixed system prompt
system_prompt = "You are a helpful assistant that answers clearly and concisely."

# Get user input from the console
user_input = input("User: ")

# Create the chat message list
messages = [
    {"role": "system", "content": system_prompt},
    {"role": "user", "content": user_input}
]

# Call the Chat API
response = openai.chat.completions.create(
    model="gpt-3.5-turbo",
    messages=messages
)

# Extract assistant's reply
assistant_reply = response['choices'][0]['message']['content']
total_tokens = response['usage']['total_tokens']

# Display the response and token usage
print("\nAssistant:", assistant_reply)
print("Total tokens used:", total_tokens)
